(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{269:function(e,t,n){e.exports=n(501)},274:function(e,t,n){},275:function(e,t,n){},277:function(e,t,n){},415:function(e,t,n){},501:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(25),c=n.n(r),i=(n(274),n(46)),s=n(47),l=n(49),u=n(48),h=n(50),d=(n(275),n(26)),m=n.n(d),p=n(12),f=n(171),b=n.n(f),v=n(172),y=n.n(v),E=n(170),w=n.n(E),S=n(167),k=n.n(S),g=n(168),T=n.n(g),C=n(169),j=n.n(C),F=n(173),O=n.n(F),B=n(20),A=n.n(B),x=(n(277),{backgroundColor:"#bbbbee",margin:"10px"}),P=new FormData,D="http://httprelay.io/link/h53f",M=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isStart:!0,currTitle:""},n.readFile=function(){var e=document.getElementById("upload-audio");P.set("audio",e.files[0],e.value)},n.start=function(){n.setState({isStart:!1});n.props.uploadCallback({shouldPullFromFirebase:!0})},n.pause=function(){n.setState({isStart:!0});n.props.uploadCallback({shouldPullFromFirebase:!1})},n.cloudDownload=function(){m()({buttons:{cancel:{text:"No",visible:!0},confirm:{text:"Yes",visible:!0}},text:"Are you sure you want to download PDF?"}).then(function(e){e&&n.props.convertToPdf()})},n.restartSheet=function(){m()({buttons:{cancel:{text:"No",visible:!0},confirm:{text:"Yes",visible:!0}},text:"Are you sure you want to restart the music sheet?"}).then(function(e){e&&n.props.restartSheet()})},n.editTitle=function(){m()({content:"input",buttons:{cancel:{text:"Cancel",value:n.state.currTitle?n.state.currTitle:"",visible:!0},confirm:{text:"Save",visible:!0}},text:"Edit Music Sheet Title"}).then(function(e){n.props.editTitle(e),n.setState({currTitle:e})})},n.upload=function(){fetch(D,{method:"POST",body:P}).then(function(e){m()("Uploaded!","File has been uploaded!","success"),n.props.uploadCallback('X:1\nT: Cooley\'s\nM: 4/4\nL: 1/8\nR: reel\nK: Emin\nD2|:"Em"EB{c}BA B2 EB|~B2 AB dBAG|')})},n.record=function(){m()("Recorded!","Audio has been recorded!","success")},n.getListings=function(){m()({text:"Browse some sheet music on eBay!",content:"input",button:{text:"Search!",closeModal:!1}}).then(function(e){if(!e)throw null;var t="https://api.ebay.com/buy/browse/v1/item_summary/search?q=".concat("sheet music","&limit=").concat(3);fetch(t,{method:"get"}),m()("",'Top recommendation: 1864 Stephen Foster Sheet Music - "Beautiful Dreamer"; $6.00',"success")})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,{className:"button-holder"},this.state.isStart?o.a.createElement(A.a,{title:"Start Recording"},o.a.createElement(p.b,{style:x,onClick:this.start},o.a.createElement(k.a,null))):o.a.createElement(A.a,{title:"Pause Recording"},o.a.createElement(p.b,{style:x,onClick:this.pause},o.a.createElement(T.a,null))),o.a.createElement(A.a,{title:"Restart Music Sheet"},o.a.createElement(p.b,{style:x,onClick:this.restartSheet},o.a.createElement(j.a,null))),o.a.createElement(A.a,{title:"Edit Title"},o.a.createElement(p.b,{style:x,onClick:this.editTitle},o.a.createElement(w.a,null))),o.a.createElement(A.a,{title:"Share"},o.a.createElement(p.b,{style:x,onClick:this.record},o.a.createElement(b.a,null))),o.a.createElement(A.a,{title:"Download Music Sheet"},o.a.createElement(p.b,{style:x,onClick:this.cloudDownload},o.a.createElement(y.a,null))),o.a.createElement(A.a,{title:"Browse Music Sheets"},o.a.createElement(p.b,{style:x,onClick:this.getListings},o.a.createElement(O.a,null))))}}]),t}(a.Component),R=n(174),I=n.n(R),K=(n(415),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).options={viewportHorizontal:!0,responsive:"resize"},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){I.a.renderAbc("sheet",e.tune.join(" "),this.options)}},{key:"render",value:function(){return o.a.createElement("div",{id:"sheet"})}}]),t}(a.Component)),N=n(112);n(469),n(470),n(500);N.initializeApp({apiKey:"AIzaSyDk8JlKOhj0xAc8HM5Q9gDwvybpQta90D4",authDomain:"hacktech2019-233403.firebaseapp.com",databaseURL:"https://hacktech2019-233403.firebaseio.com",projectId:"hacktech2019-233403",storageBucket:"hacktech2019-233403.appspot.com",messagingSenderId:"1080115241329"});var U=N.database(),z={19600:" G ",20765:" ^G ",22000:" A ",23308:" ^A ",24694:" B ",26163:" c ",27718:" ^c ",29366:" d ",31113:" ^d ",32963:" e ",34923:" f ",36999:" ^f ",39200:" g ",41530:" ^g ",44000:" a ",46616:" ^a ",49388:" b ",52325:" c' ",55437:" ^c' ",58733:" d' ",62225:" ^d' ",65925:" e' ",69846:" f' "};var L=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={music:["M:4/4\nK:Fmaj\n|"],shouldPullFromFirebase:!1,counter:0,measureCounter:0,title:""},n.update=function(e){n.setState({shouldPullFromFirebase:e.shouldPullFromFirebase})},n.editTitle=function(e){var t=n.state.music,a=t[0];if(a.includes("T:")){a=a.replace(/T:.*\n/g,"T: "+e+"\n")}else a="T: "+e+"\n"+a;(t=t.slice(1)).unshift(a),n.setState({music:t,title:e},function(){return n.forceUpdate()})},n.convertToPdf=function(){window.print()},n.restartSheet=function(){n.setState({music:["M:4/4\nK:Fmaj\n|"],title:""},function(){return n.forceUpdate()})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;U.ref().child("note").on("value",function(t){e.state.shouldPullFromFirebase&&e.setState(function(e){return e.music.push(function(e){for(var t=0,n=Object.keys(z),a=0;a<n.length;a++){if(!(e>n[a]))return n[a]-e<e-t?z[n[a]]:z[t];t=n[a]}}(100*t.val())),e.measureCounter>6&&e.music.push("|"),e.counter>14&&e.music.push("\n|"),{music:e.music,counter:e.counter>14?0:e.counter+1,measureCounter:e.measureCounter>6?0:e.measureCounter+1}})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"app",id:"divToPrint"},o.a.createElement(p.c,{variant:"h2"},"Music 2 Note"),o.a.createElement(p.c,{variant:"h5"},"Stay composed, we'll take the notes for you"),o.a.createElement(M,{uploadCallback:this.update,editTitle:this.editTitle,convertToPdf:this.convertToPdf,restartSheet:this.restartSheet}),o.a.createElement(K,{tune:this.state.music}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[269,1,2]]]);
//# sourceMappingURL=main.0e64fb7d.chunk.js.map